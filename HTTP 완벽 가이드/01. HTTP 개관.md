# 01. HTTP 개관

### HTTP 트랜잭션
HTTP 트랜잭션은 요청 명령과 응답 결과, 이렇게 두 가지로 구성되어 있다. 줄여서 요청과 응답이라고 하자.

요청과 응답은 각각 `HTTP 메시지`라고 불리는 정형화된 데이터 덩어리이다.

이 HTTP 메시지는 이진 데이터가 아니라 사람이 읽을 수 있는 자연어로 되어있다.

자세히 들여다 보자.

<img src ="https://github.com/Minnie5382/cs-study/assets/97179789/f7087157-c9d0-4348-840b-f74f1d325ff8" width="600px">

- 시작줄: 요청이라면 무엇을 해야 하는지 응답이라면 무슨 일이 일어났는지 나타낸다.
- 헤더: 키:값 형태로 헤더를 나타낸다. 빈 줄로 끝난다.
- 본문: 실제 데이터가 들어가는 부분. 뭐든지 들어갈 수 있다. (이진 데이터, 이미지 데이터, 소프트웨어 ...)

### TCP 커넥션
HTTP는 TCP라는 신뢰성 있는 연결을 바탕으로 이루어지는 통신이다.


참고) HTTP는 5계층(응용), TCP는 4계층(전송) 프로토콜이다

<img src ="https://github.com/Minnie5382/cs-study/assets/97179789/df8296de-3c25-47b9-a657-d1358a93c9c1" width="300px">

TCP 연결은 다음을 제공한다.

• 오류 없는 데이터 전송<br>
• 순서에 맞는 전달 （데이터는 언제나 보낸 순서대로 도착한다）<br>
• 조각나지 않는 데이터 스트림 （언제든 어떤 크기로든 보낼 수 있다）

TCP에서 이런 부분을 보장하고 있기 때문에 HTTP 통신에서는 연결의 신뢰성에 대해 신경쓰지 않을 수 있다.

### HTTP 프로토콜의 버전
1. HTTP/0.9<br>
   HTTP의 초기 버전. 오류와 결함이 많다.
2. HTTP/1.0<br>
   처음으로 널리 쓰이기 시작한 버전. 공식 명세라기 보단 잘 동작하는 용례 모음집이다.
3. HTTP/1.0+<br>
   keep-alive 연결, 가상 호스팅 지원, 프록시 연결 지원 등 많은 기능이 추가된 확장 버전이다.
4. HTTP/1.1<br>
   현재 가장 많이 쓰이는 버전이다. 더 복잡한 웹앱과 배포를 지원한다.
5. HTTP/2.0<br>
   성능을 개선하기 위해 구글의 SPDY 프로토콜을 기반으로 설계가 진행중인 프로토콜이다.


### 웹의 구성 요소
1. 프락시

  프락시는 클라이언트와 서버 사이에 위치하여, 클라이언트의 모든 HTTP 요청을 받아 서버에 전달한다（대개 요청을 수정한 뒤에）.<br>
  예를 들어, 회사에서 무엇인가를 다운 받을 때 애플리케이션 바이러스를 검출하거나 초등학교 학생들에게서 성인 콘텐츠를 차단한다.
  
3. 캐시

  많이 찾는 웹페이지를 클라이언트 가까이에 보관하는 HTTP 창고.

4. 게이트웨이

  다른 애플리케이션과 연결된 특별한 웹 서버.<br>
  게이트웨이는 주로 HTTP 트래픽을 다른 프로토콜로 변환하기 위해 사용된다. 클라이언트는 자신이 게이트웨이와 통신하고 있음을 알아채지 못할 것이다.
  
6. 터널

  두 커넥션 사이에서 날(raw) 데이터를 열어보지 않고 그대로 전달해주는 일종의 프락시.
  
7. 에이전트

자동화된 HTTP 요청을 만드는 준지능적 （semi-intelligent） 웹클라이언트.<br>
예를 들어, 사람의 통제 없이 스스로 웹을 돌아다니며 HTTP 트랜잭션을 일으키고 콘텐츠를 받아오는 자동화된 사용자 에이전트가 있다. 스파이더는 웹을 돌아다니며, 검색엔진의 데이터베이스나 가격비교 로봇을 위한 제품 카탈로그와 같은 유용한 웹 콘텐츠 보관소를 만든다.
